{% extends "base.html" %}

{% block title %}Add Crop - Surplus to Sustain{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10 col-lg-8">
        <div class="card shadow">
            <div class="card-body p-4">
                <h2 class="card-title mb-4"><i class="fas fa-seedling text-success"></i> Add New Crop</h2>
                
                <form method="POST" action="{{ url_for('add_crop') }}">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="crop_name" class="form-label">Crop Name *</label>
                            <select class="form-control" id="crop_name" name="crop_name" required>
                                <option value="">Select Crop</option>
                                <option value="tomato">Tomato</option>
                                <option value="onion">Onion</option>
                                <option value="potato">Potato</option>
                                <option value="wheat">Wheat</option>
                                <option value="rice">Rice</option>
                                <option value="cabbage">Cabbage</option>
                                <option value="cauliflower">Cauliflower</option>
                                <option value="brinjal">Brinjal (Eggplant)</option>
                                <option value="chili">Chili</option>
                            </select>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="variety" class="form-label">Variety (Optional)</label>
                            <input type="text" class="form-control" id="variety" name="variety" placeholder="e.g., Pusa Ruby">
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="area" class="form-label">Area (hectares) *</label>
                            <input type="number" step="0.1" class="form-control" id="area" name="area" required min="0.1" placeholder="e.g., 2.5">
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="planting_date" class="form-label">Planting Date *</label>
                            <input type="date" class="form-control" id="planting_date" name="planting_date" required>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <label for="soil_type" class="form-label">Soil Type</label>
                            <select class="form-control" id="soil_type" name="soil_type">
                                <option value="loamy">Loamy</option>
                                <option value="clay">Clay</option>
                                <option value="sandy">Sandy</option>
                                <option value="black">Black Soil</option>
                            </select>
                        </div>
                        
                        <div class="col-md-4 mb-3">
                            <label for="irrigation_type" class="form-label">Irrigation Type</label>
                            <select class="form-control" id="irrigation_type" name="irrigation_type">
                                <option value="drip">Drip Irrigation</option>
                                <option value="sprinkler">Sprinkler</option>
                                <option value="flood">Flood Irrigation</option>
                                <option value="rainfed">Rainfed</option>
                            </select>
                        </div>
                        
                        <div class="col-md-4 mb-3">
                            <label for="season" class="form-label">Season</label>
                            <select class="form-control" id="season" name="season">
                                <option value="kharif">Kharif (Monsoon)</option>
                                <option value="rabi">Rabi (Winter)</option>
                                <option value="zaid">Zaid (Summer)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="expected_consumption" class="form-label">Expected Consumption/Sale (tons)</label>
                        <input type="number" step="0.1" class="form-control" id="expected_consumption" name="expected_consumption" placeholder="How much do you plan to sell?" value="0">
                        <small class="text-muted">The amount you're planning to sell or use. System will predict surplus above this.</small>
                    </div>
                    
                    <div class="mb-3">
                        <label for="notes" class="form-label">Notes (Optional)</label>
                        <textarea class="form-control" id="notes" name="notes" rows="3" placeholder="Any special notes about this crop..."></textarea>
                    </div>
                    
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i> <strong>How it works:</strong> Our AI will predict your yield and surplus 2-3 weeks before harvest using weather data, soil type, and historical patterns. You'll get actionable recommendations!
                    </div>
                    
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-success btn-lg">
                            <i class="fas fa-plus"></i> Add Crop & Get Prediction
                        </button>
                        <a href="{{ url_for('dashboard') }}" class="btn btn-outline-secondary">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}